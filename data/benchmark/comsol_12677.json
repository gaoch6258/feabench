{"comsol_model_id": 12677, "target_value": 1.662, "target_units": "1", "target_description": "Steady state solution for u at t=1 [s].", "model_specifications": "\n## Finite Element Analysis Description: Finding the Periodic Steady-State of a Driven Nonlinear ODE\n\n**ANALYSIS TYPE:** Time-dependent with optimization to find the periodic steady-state.\n\n**GOVERNING EQUATION:**\n\nThe model solves the following nonlinear ordinary differential equation:\n\n`(1/f)*(du/dt) = a*sin^2(\u03c9t) - b*u - c*u^2`\n\nwhere:\n* u is the dependent variable.\n* t is time.\n* a = 0.25\n* b = 0.05\n* c = 0.015\n* f = 1 Hz (Frequency)\n* \u03c9 = 2\u03c0f (Angular frequency)\n\n**INITIAL CONDITION:**\n\nAt time t = 0, u = 0.25.\n\n**TARGET:**\n\nDetermine the value of  'u' at the end of one full period (t = 1 s)  which corresponds to the periodic steady-state solution. This value should be obtained using an optimization algorithm within the FEA software to minimize the difference between the initial and final values of 'u' over one period.\nExport the table containing this value to OUTPUT_PATH/output.txt\n", "plan": "## Implementing the Periodic Steady-State Analysis in COMSOL Multiphysics:\n\n**1. Model Setup:**\n\n* **New Model:** Start COMSOL Multiphysics and create a new model.\n* **Space Dimension:** Select 0D for the space dimension.\n* **Physics Interface:** Choose \"Global ODEs and DAEs\" from the Mathematics branch.\n* **Study Type:** Choose the \"Time Dependent\" study type.\n\n**2. Global Definitions:**\n\n* **Parameters:**\n    * Define the following parameters with their respective values:\n        *  a = 0.25\n        *  b = 0.05\n        *  c = 0.015\n        *  u0 = 0.25 (Initial value of u, will be used as a control parameter later)\n        *  f = 1 [Hz] (Frequency)\n        *  w = 2*pi*f [Hz] (Angular Frequency)\n\n**3.  ODE Definition:**\n\n* **Global Equations:**\n    * Define a new Global Equation with the following:\n        * Name: `u`\n        * f(u,ut,utt,t): `((1/f)*ut-a*sin(w*t)^2+b*u+c*u^2)`\n        * Initial value (u_0) (I): `u0`\n\n**4. Optimization Study Settings:**\n\n* **Study 1:** Add a study. This study will be used to find the periodic steady state.\n    * **Step 1: Time Dependent:**\n        * Output times: `range(0, 0.002, 1)`\n        * Tolerance: `User Controlled`\n        * Relative tolerance: `1e-5`\n     * **Optimization:**\n        * Method: `IPOPT`\n     * **Objective Function:**\n        * Expression:  `(comp1.u-u0)^2` (This represents (u(T) - u(0))^2, forcing the solution to be periodic)\n        * Description: `Squared Error`\n        * Evaluate for: `Time Dependent`\n     * **Control Variables and Parameters:**\n        * Add `u0` as a control variable with the following settings:\n            * Initial Value: `0.25`\n            * Scale: `1`\n            * Lower bound: `0`\n            * Upper bound: `5`\n    * **Solver Configurations for Solution 1:**\n        * **Optimization Solver 1 > Time-Dependent Solver 1:**\n            * Absolute Tolerance: `Manual`\n            * Absolute tolerance: `1e-5`\n\n**6. Solve and Post-processing:**\n  * Solve the model. This will yield the steady state solution for u as a function of time.\n  * Evaluate the value of 'u' at the end of the period (t=1 s). This is the target value and will be stored in Table 2.\n  * Export this table to OUTPUT_PATH/output.txt\n", "ground_truth_code": "\nmodel.component().create(\"comp1\", true);\n\nmodel.param().set(\"a\", \"0.25\");\nmodel.param().set(\"b\", \"0.05\");\nmodel.param().set(\"c\", \"0.015\");\nmodel.param().set(\"u0\", \"0.25\");\nmodel.param().set(\"f\", \"1 [Hz]\");\nmodel.param().set(\"w\", \"2*pi*f\");\n\n\nmodel.result().table().create(\"tbl1\", \"Table\");\nmodel.result().table().create(\"tbl2\", \"Table\");\n\nmodel.component(\"comp1\").physics().create(\"ge\", \"GlobalEquations\");\nmodel.component(\"comp1\").physics(\"ge\").prop(\"EquationForm\").set(\"form\", \"Automatic\");\nmodel.component(\"comp1\").physics(\"ge\").feature(\"ge1\").set(\"name\", \"u\");\nmodel.component(\"comp1\").physics(\"ge\").feature(\"ge1\").set(\"equation\", \"((1/f)*ut-a*sin(w*t)^2+b*u+c*u^2)\");\nmodel.component(\"comp1\").physics(\"ge\").feature(\"ge1\").set(\"initialValueU\", \"u0\");\n\n\nmodel.ode().create(\"conpar2\");\nmodel.ode(\"conpar2\").type(\"control\");\nmodel.ode(\"conpar2\").state(new String[]{\"u0\"});\n\nmodel.result().table(\"tbl1\").label(\"Objective Probe Table 1\");\nmodel.result().table(\"tbl2\").comments(\"Global Evaluation 1\");\n\nmodel.study().create(\"std1\");\nmodel.study(\"std1\").create(\"opt\", \"Optimization\");\nmodel.study(\"std1\").create(\"time\", \"Transient\");\n\nmodel.sol().create(\"sol1\");\nmodel.sol(\"sol1\").study(\"std1\");\nmodel.sol(\"sol1\").attach(\"std1\");\nmodel.sol(\"sol1\").create(\"st1\", \"StudyStep\");\nmodel.sol(\"sol1\").create(\"v1\", \"Variables\");\nmodel.sol(\"sol1\").create(\"o1\", \"Optimization\");\nmodel.sol(\"sol1\").feature(\"o1\").create(\"t1\", \"TimeAttrib\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").create(\"fc1\", \"FullyCoupled\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").create(\"tp1\", \"TimeParametric\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").feature().remove(\"fcDef\");\n\nmodel.result().numerical().create(\"gev1\", \"EvalGlobal\");\nmodel.result().numerical(\"gev1\").set(\"probetag\", \"none\");\nmodel.result().create(\"pg1\", \"PlotGroup1D\");\nmodel.result(\"pg1\").create(\"glob1\", \"Global\");\n\nmodel.study(\"std1\").feature(\"opt\").set(\"optsolver\", \"ipopt\");\nmodel.study(\"std1\").feature(\"opt\").set(\"gradientStep\", \"time\");\nmodel.study(\"std1\").feature(\"opt\").set(\"optobj\", new String[]{\"(comp1.u-u0)^2\"});\nmodel.study(\"std1\").feature(\"opt\").set(\"descr\", new String[]{\"Squared error\"});\nmodel.study(\"std1\").feature(\"opt\").set(\"optobjEvaluateFor\", new String[]{\"time\"});\nmodel.study(\"std1\").feature(\"opt\").set(\"initval\", new String[]{\"0.25\"});\nmodel.study(\"std1\").feature(\"opt\").set(\"scale\", new String[]{\"1\"});\nmodel.study(\"std1\").feature(\"opt\").set(\"lbound\", new String[]{\"0\"});\nmodel.study(\"std1\").feature(\"opt\").set(\"ubound\", new String[]{\"5\"});\nmodel.study(\"std1\").feature(\"opt\").set(\"pname\", new String[]{\"u0\"});\nmodel.study(\"std1\").feature(\"opt\").set(\"objtable\", \"tbl1\");\nmodel.study(\"std1\").feature(\"time\").set(\"tlist\", \"range(0, 0.002, 1)\");\nmodel.study(\"std1\").feature(\"time\").set(\"usertol\", true);\nmodel.study(\"std1\").feature(\"time\").set(\"rtol\", \"1e-5\");\n\nmodel.sol(\"sol1\").attach(\"std1\");\nmodel.sol(\"sol1\").feature(\"st1\").label(\"Compile Equations: Time Dependent\");\nmodel.sol(\"sol1\").feature(\"v1\").label(\"Dependent Variables 1.1\");\nmodel.sol(\"sol1\").feature(\"v1\").set(\"clist\", new String[]{\"range(0, 0.002, 1)\", \"0.001[s]\"});\nmodel.sol(\"sol1\").feature(\"o1\").label(\"Optimization Solver 1.1\");\nmodel.sol(\"sol1\").feature(\"o1\").set(\"control\", \"opt\");\nmodel.sol(\"sol1\").feature(\"o1\").set(\"optsolver\", \"ipopt\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").label(\"Time-Dependent Solver 1.1\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").set(\"tlist\", \"range(0, 0.002, 1)\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").set(\"rtol\", \"1e-5\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").set(\"atolglobalvaluemethod\", \"manual\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").set(\"atolglobal\", \"1e-5\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").feature(\"dDef\").label(\"Direct 1\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").feature(\"aDef\").label(\"Advanced 1\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").feature(\"fc1\").label(\"Fully Coupled 1.1\");\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").feature(\"tp1\").active(false);\nmodel.sol(\"sol1\").feature(\"o1\").feature(\"t1\").feature(\"tp1\").label(\"Time Parametric 1.1\");\nmodel.sol(\"sol1\").runAll();\n\nmodel.result().numerical(\"gev1\").set(\"looplevelinput\", new String[]{\"interp\"});\nmodel.result().numerical(\"gev1\").set(\"interp\", new String[]{\"1.0\"});\nmodel.result().numerical(\"gev1\").set(\"table\", \"tbl2\");\nmodel.result().numerical(\"gev1\").setResult();\nmodel.result(\"pg1\").set(\"xlabel\", \"Time (s)\");\nmodel.result(\"pg1\").set(\"ylabel\", \"State variable u (1)\");\nmodel.result(\"pg1\").set(\"xlabelactive\", false);\nmodel.result(\"pg1\").set(\"ylabelactive\", false);\nmodel.result().table(\"tbl2\").save(\"OUTPUT_PATH/output.txt\");\n", "selection_information": "\n-\n", "target_tree": "model\n\u251c\u2500 parameters\n\u2502  \u2514\u2500 Parameters 1\n\u251c\u2500 functions\n\u251c\u2500 components\n\u2502  \u2514\u2500 Component 1\n\u251c\u2500 geometries\n\u251c\u2500 views\n\u251c\u2500 selections\n\u251c\u2500 coordinates\n\u251c\u2500 variables\n\u2502  \u251c\u2500 Derived Variables 1\n\u2502  \u2514\u2500 Derived Variables 2\n\u251c\u2500 couplings\n\u251c\u2500 physics\n\u2502  \u2514\u2500 Global ODEs and DAEs\n\u2502     \u2514\u2500 Global Equations 1\n\u251c\u2500 multiphysics\n\u251c\u2500 materials\n\u251c\u2500 meshes\n\u251c\u2500 studies\n\u2502  \u2514\u2500 Study 1\n\u2502     \u251c\u2500 Optimization\n\u2502     \u2514\u2500 Time Dependent\n\u251c\u2500 solutions\n\u2502  \u2514\u2500 Solution 1\n\u2502     \u251c\u2500 Compile Equations: Time Dependent\n\u2502     \u251c\u2500 Dependent Variables 1.1\n\u2502     \u2502  \u251c\u2500 State variable u (comp1.ODE1)\n\u2502     \u2502  \u2514\u2500 Control parameter u0 (conpar3)\n\u2502     \u2514\u2500 Optimization Solver 1.1\n\u2502        \u2514\u2500 Time-Dependent Solver 1.1\n\u2502           \u251c\u2500 Direct 1\n\u2502           \u251c\u2500 Advanced 1\n\u2502           \u251c\u2500 Fully Coupled 1.1\n\u2502           \u2514\u2500 Time Parametric 1.1\n\u251c\u2500 batches\n\u251c\u2500 datasets\n\u2502  \u2514\u2500 Study 1//Solution 1\n\u251c\u2500 evaluations\n\u2502  \u2514\u2500 Global Evaluation 1\n\u251c\u2500 tables\n\u2502  \u251c\u2500 Objective Probe Table 1\n\u2502  \u2514\u2500 Table 2\n\u251c\u2500 plots\n\u2502  \u2514\u2500 1D Plot Group 1\n\u2502     \u2514\u2500 Global 1\n\u2514\u2500 exports\n"}