{"comsol_model_id": 19275, "target_value": 99.5, "target_units": "%", "target_description": "Reflectance (R) (in %) at a vacuum wavelength of 550 nm for a Distributed Bragg Reflector with 5 unit cells (Nc = 5).", "model_specifications": "\n## Finite Element Analysis of a Distributed Bragg Reflector\n\n**ANALYSIS TYPE:** Electromagnetic waves, frequency domain\n\n**GEOMETRY:**\n* The domain is a cylinder representing a substrate with alternating thin-film layers.\n* Substrate:\n    * Radius: 10 mm\n    * Height: 5 mm\n* Thin films:\n    * Number of unit cells (Nc): 5\n    * Each unit cell consists of two layers: a high-index layer (ZnS) and a low-index layer (MgF2).\n    * The optical thickness of each layer is \u03bb0/4, where \u03bb0 is the vacuum wavelength.\n\n**MATERIAL PROPERTIES:**\n* Substrate: Refractive index (ns) = 1.5\n* High-index layer (ZnS): Refractive index (nh) = 2.32\n* Low-index layer (MgF2): Refractive index (nl) = 1.38\n\n\n**BOUNDARY CONDITIONS:**\n* The exterior boundaries of the substrate are modeled with a Material Discontinuity boundary condition, representing the interface with air (refractive index na = 1.0).\n\n**EXCITATION:**\n* Vacuum Wavelength = 550 nm\n\n**MESHES:** Use the default (automatic) mesh.\n\n**TARGET:** Determine the reflectance (R = 100* (I0 - I)/I0) of the Distributed Bragg Reflector at a vacuum wavelength of 550 nm for a Distributed Bragg Reflector with 5 unit cells (Nc = 5) at time = 0.025 ns.\nExport the table containing this value to OUTPUT_PATH/output.txt.\n\n", "plan": "\n## Implementing the Distributed Bragg Reflector Analysis in COMSOL Multiphysics:\n\n**1. Model Setup:**\n\n* **New Model:** Start COMSOL Multiphysics and create a new model.\n* **Space Dimension:** Select 3D for the space dimension.\n* **Physics Interface:** Choose \"Geometrical Optics\" from the Ray Optics module.\n* **Study Type:** Choose the \"Study\" option and select the preset \"Ray Tracing.\"\n\n**2. Geometry Definition:**\n\n* **Global Definitions:**\n    * **Parameters:** Define the following parameters:\n        * `ns` (refractive index of the substrate): 1.5\n        * `nh` (refractive index of ZnS): 2.32\n        * `nl` (refractive index of MgF2): 1.38\n        * `lam0` (vacuum wavelength): 550[nm]\n        * `Nc` (number of unit cells): 5\n* **Geometry:**\n    * **Cylinder:** Create a cylinder with:\n        * Radius: 10 mm\n        * Height: 5 mm\n\n**3. Definitions:**\n\n* **Materials:**\n    * **Blank Material:** Define a new material with refractive index `ns`. This represents the substrate. The refractive index is isotropic.\n* **Geometrical Optics:**\n    * **Intensity Computation:**\n      * From the Intensity computation list, choose Compute intensity.\n      * From the wavelength distribution of released rays list, choose Polychromatic, specify vacuum wavelength.\n      * In the  Maximum number of secondary rays text field, type 0.\n    * **Material Discontinuity:**\n        * Add a \"Material Discontinuity\" feature.\n        * In the \"Coatings\" section, select \"Add layers to surface, repeating\" and set N to `Nc`.\n        * In the \"Rays to Release\" section, set \"Release reflected rays\" to \"Never.\"\n    * **Thin Dielectric Film 1:**\n        * Add a \"Thin Dielectric Film\" feature.\n        * Set the refractive index (`n`) to `nh` and thickness (`t`) to `lam0/(4*nh)`.\n        * Clear the \"Repeat layer in multilayer films\" box under the Repeating Multilayer Films section.\n    * **Thin Dielectric Film 2:**\n        * Duplicate the \"Thin Dielectric Film 1\" feature.\n        * Change the refractive index to `nl` and thickness to `lam0/(4*nl)`.\n    * **Thin Dielectric Film 3:**\n        * Duplicate the \"Thin Dielectric Film 1\" feature again.\n* **Physics, Global:**\n    * **Release from Grid:**\n        * Add a \"Release from Grid\" feature.\n        * Set the initial z-coordinate (`qz,0`) to 10.\n        * Set the Ray Direction Vector to (0, 0, -1).\n        * In \"Vacuum Wavelength,\" vacuum wavelength will be lam0.\n\n**4. Meshing:**\n* Use the default mesh settings (COMSOL will automatically mesh the geometry).\n\n**5. Study Settings:**\n* **Ray Tracing:**\n  * Output times should be 0 0.025.\n  * Compute.\n\n**6. Results and Post-Processing:**\n\n* **Ray Evaluation:**\n    * Add a derived value of the type Ray Evaluation.\n    * The dataset will be Ray 1, time selection is Last.\n    * The expression will be 100*(gop.relg1.I0-gop.I)/gop.relg1.I0\n    * Compute this value.\n    * Export the table containing this value to OUTPUT_PATH/output.txt.\n", "ground_truth_code": "\nmodel.component().create(\"comp1\", true);\nmodel.component(\"comp1\").geom().create(\"geom1\", 3);\n\nmodel.param().set(\"ns\", \"1.5\", \"Refractive index of substrate\");\nmodel.param().set(\"nh\", \"2.32\", \"Refractive index of ZnS\");\nmodel.param().set(\"nl\", \"1.38\", \"Refractive index of MgF2\");\nmodel.param().set(\"lam0\", \"550[nm]\", \"Vacuum wavelength\");\nmodel.param().set(\"Nc\", \"5\", \"Number of unit cells\");\n\nmodel.component(\"comp1\").geom(\"geom1\").lengthUnit(\"mm\");\nmodel.component(\"comp1\").geom(\"geom1\").create(\"cyl1\", \"Cylinder\");\nmodel.component(\"comp1\").geom(\"geom1\").feature(\"cyl1\").set(\"r\", 10);\nmodel.component(\"comp1\").geom(\"geom1\").feature(\"cyl1\").set(\"h\", 5);\nmodel.component(\"comp1\").geom(\"geom1\").run();\n\nmodel.component(\"comp1\").material().create(\"mat1\", \"Common\");\nmodel.component(\"comp1\").material(\"mat1\").propertyGroup().create(\"RefractiveIndex\", \"Refractive index\");\nmodel.component(\"comp1\").material(\"mat1\").propertyGroup(\"RefractiveIndex\").set(\"n\", new String[]{\"ns\", \"0\", \"0\", \"0\", \"ns\", \"0\", \"0\", \"0\", \"ns\"});\n\n\nmodel.component(\"comp1\").physics().create(\"gop\", \"GeometricalOptics\", \"geom1\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").create(\"film1\", \"ThinDielectricFilm\", 2);\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").create(\"film2\", \"ThinDielectricFilm\", 2);\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").create(\"film3\", \"ThinDielectricFilm\", 2);\nmodel.component(\"comp1\").physics(\"gop\").create(\"relg1\", \"ReleaseGrid\", -1);\nmodel.component(\"comp1\").physics(\"gop\").prop(\"IntensityComputation\").set(\"IntensityComputation\", \"ComputeIntensity\");\nmodel.component(\"comp1\").physics(\"gop\").prop(\"WavelengthDistribution\").set(\"WavelengthDistribution\", \"PolychromaticWavelength\");\nmodel.component(\"comp1\").physics(\"gop\").prop(\"MaximumSecondary\").set(\"MaximumSecondary\", 0);\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").set(\"ThinDielectricFilmsOnBoundary\", \"AddLayersToSurfaceRepeating\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").set(\"Nft\", \"Nc\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").set(\"ReleaseReflectedRays\", \"Never\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").feature(\"film1\").set(\"nf\", \"nh\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").feature(\"film1\").set(\"tf\", \"lam0/(4*nh)\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").feature(\"film1\").set(\"RepeatLayerInMultilayerFilms\", false);\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").feature(\"film2\").set(\"nf\", \"nl\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").feature(\"film2\").set(\"tf\", \"lam0/(4*nl)\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").feature(\"film3\").set(\"nf\", \"nh\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"matd1\").feature(\"film3\").set(\"tf\", \"lam0/(4*nh)\");\nmodel.component(\"comp1\").physics(\"gop\").feature(\"relg1\").set(\"x0\", new int[][]{{0}, {0}, {10}});\nmodel.component(\"comp1\").physics(\"gop\").feature(\"relg1\").set(\"L0\", new int[][]{{0}, {0}, {-1}});\nmodel.component(\"comp1\").physics(\"gop\").feature(\"relg1\").set(\"lambda0\", \"lam0\");\n\n\nmodel.component(\"comp1\").mesh().create(\"mesh1\");\n\nmodel.result().table().create(\"tbl1\", \"Table\");\nmodel.result().table(\"tbl1\").comments(\"Ray Evaluation 1\");\n\n\nmodel.study().create(\"std1\");\nmodel.study(\"std1\").create(\"rtrac\", \"RayTracing\");\n\nmodel.sol().create(\"sol1\");\nmodel.sol(\"sol1\").study(\"std1\");\nmodel.sol(\"sol1\").attach(\"std1\");\nmodel.sol(\"sol1\").create(\"st1\", \"StudyStep\");\nmodel.sol(\"sol1\").create(\"v1\", \"Variables\");\nmodel.sol(\"sol1\").create(\"t1\", \"Time\");\nmodel.sol(\"sol1\").feature(\"t1\").create(\"fc1\", \"FullyCoupled\");\nmodel.sol(\"sol1\").feature(\"t1\").create(\"i1\", \"Iterative\");\nmodel.sol(\"sol1\").feature(\"t1\").feature(\"i1\").create(\"ja1\", \"Jacobi\");\nmodel.sol(\"sol1\").feature(\"t1\").feature().remove(\"fcDef\");\n\nmodel.result().dataset().create(\"ray1\", \"Ray\");\nmodel.result().dataset().create(\"dset2\", \"Solution\");\nmodel.result().dataset().remove(\"dset1\");\nmodel.result().numerical().create(\"ray1\", \"Ray\");\nmodel.result().numerical(\"ray1\").set(\"probetag\", \"none\");\n\nmodel.study(\"std1\").feature(\"rtrac\").set(\"tlist\", \"0 0.025\");\n\nmodel.sol(\"sol1\").attach(\"std1\");\nmodel.sol(\"sol1\").feature(\"st1\").label(\"Compile Equations: Ray Tracing\");\nmodel.sol(\"sol1\").feature(\"v1\").label(\"Dependent Variables 1.1\");\nmodel.sol(\"sol1\").feature(\"v1\").set(\"clist\", new String[]{\"0 0.025\", \"2.5E-5[ns]\"});\nmodel.sol(\"sol1\").feature(\"t1\").label(\"Time-Dependent Solver 1.1\");\nmodel.sol(\"sol1\").feature(\"t1\").set(\"tunit\", \"ns\");\nmodel.sol(\"sol1\").feature(\"t1\").set(\"tlist\", \"0 0.025\");\nmodel.sol(\"sol1\").feature(\"t1\").set(\"rtol\", 1.0E-5);\nmodel.sol(\"sol1\").feature(\"t1\").set(\"timemethod\", \"genalpha\");\nmodel.sol(\"sol1\").feature(\"t1\").set(\"estrat\", \"exclude\");\nmodel.sol(\"sol1\").feature(\"t1\").set(\"tstepsgenalpha\", \"strict\");\nmodel.sol(\"sol1\").feature(\"t1\").feature(\"dDef\").label(\"Direct 1\");\nmodel.sol(\"sol1\").feature(\"t1\").feature(\"aDef\").label(\"Advanced 1\");\nmodel.sol(\"sol1\").feature(\"t1\").feature(\"fc1\").label(\"Fully Coupled 1.1\");\nmodel.sol(\"sol1\").feature(\"t1\").feature(\"fc1\").set(\"ntolfact\", 0.1);\nmodel.sol(\"sol1\").feature(\"t1\").feature(\"i1\").label(\"Iterative 1.1\");\nmodel.sol(\"sol1\").feature(\"t1\").feature(\"i1\").feature(\"ilDef\").label(\"Incomplete LU 1\");\nmodel.sol(\"sol1\").feature(\"t1\").feature(\"i1\").feature(\"ja1\").label(\"Jacobi 1.1\");\nmodel.sol(\"sol1\").runAll();\n\nmodel.result().numerical(\"ray1\").set(\"looplevelinput\", new String[]{\"last\"});\nmodel.result().numerical(\"ray1\").set(\"table\", \"tbl1\");\nmodel.result().numerical(\"ray1\").set(\"expr\", \"100*(gop.relg1.I0-gop.I)/gop.relg1.I0\");\nmodel.result().numerical(\"ray1\").set(\"descr\", \"Reflectance\");\nmodel.result().numerical(\"ray1\").setResult();\nmodel.result().table(\"tbl1\").save(\"OUTPUT_PATH/output.txt\");\n", "target_tree": "model\n\u251c\u2500 parameters\n\u2502  \u2514\u2500 Parameters 1\n\u251c\u2500 functions\n\u251c\u2500 components\n\u2502  \u2514\u2500 Component 1\n\u251c\u2500 geometries\n\u2502  \u251c\u2500 Geometry 1\n\u2502  \u2502  \u251c\u2500 Cylinder 1\n\u2502  \u2502  \u2514\u2500 Form Union\n\u2502  \u2514\u2500 Geometry\n\u2502     \u2514\u2500 Point 1\n\u251c\u2500 views\n\u2502  \u2514\u2500 View 1\n\u251c\u2500 selections\n\u251c\u2500 coordinates\n\u2502  \u2514\u2500 Boundary System 1\n\u251c\u2500 variables\n\u2502  \u251c\u2500 Derived Variables 1\n\u2502  \u251c\u2500 Derived Variables 2\n\u2502  \u251c\u2500 Derived Variables 3\n\u2502  \u251c\u2500 Derived Variables 4\n\u2502  \u251c\u2500 Derived Variables 5\n\u2502  \u251c\u2500 Derived Variables 6\n\u2502  \u251c\u2500 Derived Variables 7\n\u2502  \u251c\u2500 Derived Variables 8\n\u2502  \u251c\u2500 Derived Variables 9\n\u2502  \u251c\u2500 Derived Variables 10\n\u2502  \u251c\u2500 Derived Variables 11\n\u2502  \u251c\u2500 Derived Variables 12\n\u2502  \u251c\u2500 Derived Variables 13\n\u2502  \u251c\u2500 Derived Variables 14\n\u2502  \u251c\u2500 Derived Variables 15\n\u2502  \u251c\u2500 Derived Variables 16\n\u2502  \u251c\u2500 Derived Variables 17\n\u2502  \u251c\u2500 Derived Variables 18\n\u2502  \u2514\u2500 Derived Variables 19\n\u251c\u2500 couplings\n\u2502  \u251c\u2500 Sum over rays (deprecated) (gop)\n\u2502  \u251c\u2500 Maximum over rays (deprecated) (gop)\n\u2502  \u251c\u2500 Minimum over rays (deprecated) (gop)\n\u2502  \u251c\u2500 Average over rays (deprecated) (gop)\n\u2502  \u251c\u2500 Sum over all rays (deprecated) (gop)\n\u2502  \u251c\u2500 Maximum over all rays (deprecated) (gop)\n\u2502  \u251c\u2500 Minimum over all rays (deprecated) (gop)\n\u2502  \u251c\u2500 Average over all rays (deprecated) (gop)\n\u2502  \u251c\u2500 Sum over rays (gop)\n\u2502  \u251c\u2500 Maximum over rays (gop)\n\u2502  \u251c\u2500 Minimum over rays (gop)\n\u2502  \u251c\u2500 Average over rays (gop)\n\u2502  \u251c\u2500 Sum over all rays (gop)\n\u2502  \u251c\u2500 Maximum over all rays (gop)\n\u2502  \u251c\u2500 Minimum over all rays (gop)\n\u2502  \u2514\u2500 Average over all rays (gop)\n\u251c\u2500 physics\n\u2502  \u2514\u2500 Geometrical Optics\n\u2502     \u251c\u2500 Medium Properties 1\n\u2502     \u251c\u2500 Material Discontinuity 1\n\u2502     \u2502  \u251c\u2500 Thin Dielectric Film 1\n\u2502     \u2502  \u251c\u2500 Thin Dielectric Film 2\n\u2502     \u2502  \u2514\u2500 Thin Dielectric Film 3\n\u2502     \u251c\u2500 Ray Continuity 1\n\u2502     \u251c\u2500 Ray Properties 1\n\u2502     \u2514\u2500 Release from Grid 1\n\u251c\u2500 multiphysics\n\u251c\u2500 materials\n\u2502  \u2514\u2500 Material 1\n\u2502     \u251c\u2500 Basic\n\u2502     \u2514\u2500 Refractive index\n\u251c\u2500 meshes\n\u2502  \u2514\u2500 Mesh 1\n\u2502     \u251c\u2500 Size\n\u2502     \u2514\u2500 Free Tetrahedral 1\n\u251c\u2500 studies\n\u2502  \u2514\u2500 Study 1\n\u2502     \u2514\u2500 Ray Tracing\n\u251c\u2500 solutions\n\u2502  \u2514\u2500 Solution 1\n\u2502     \u251c\u2500 Compile Equations: Ray Tracing\n\u2502     \u251c\u2500 Dependent Variables 1.1\n\u2502     \u2502  \u251c\u2500 Principal direction 1 (comp1.e1gop)\n\u2502     \u2502  \u251c\u2500 Integral of attenuation coefficient along ray path (comp1.gop.atten)\n\u2502     \u2502  \u251c\u2500 Initial intensity (comp1.gop.I0)\n\u2502     \u2502  \u251c\u2500 Vacuum wavelength (comp1.gop.lambda0)\n\u2502     \u2502  \u251c\u2500 Principal wavefront radii of curvature (comp1.gop.r)\n\u2502     \u2502  \u251c\u2500 Stokes parameters (comp1.gop.s)\n\u2502     \u2502  \u251c\u2500 Wave vector (comp1.kgop)\n\u2502     \u2502  \u2514\u2500 Ray position (comp1.qgop)\n\u2502     \u2514\u2500 Time-Dependent Solver 1.1\n\u2502        \u251c\u2500 Direct 1\n\u2502        \u251c\u2500 Advanced 1\n\u2502        \u251c\u2500 Fully Coupled 1.1\n\u2502        \u2514\u2500 Iterative 1.1\n\u2502           \u251c\u2500 Incomplete LU 1\n\u2502           \u2514\u2500 Jacobi 1.1\n\u251c\u2500 batches\n\u251c\u2500 datasets\n\u2502  \u251c\u2500 Ray 1\n\u2502  \u2514\u2500 Study 1//Solution 1\n\u251c\u2500 evaluations\n\u2502  \u2514\u2500 Ray Evaluation 1\n\u251c\u2500 tables\n\u2502  \u2514\u2500 Table 1\n\u251c\u2500 plots\n\u2514\u2500 exports\n", "selection_information": "\n-\n"}